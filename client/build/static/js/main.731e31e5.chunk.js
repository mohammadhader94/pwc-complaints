(this["webpackJsonppwc-complaints"]=this["webpackJsonppwc-complaints"]||[]).push([[0],{414:function(e,a,t){e.exports=t.p+"static/media/pwc-logo.e40bebc8.png"},434:function(e,a,t){e.exports=t(547)},546:function(e,a,t){},547:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(17),c=t.n(l),i=t(31),o=t(66),u=t(387),s=t(29),m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{authData:null},a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"AUTH":return localStorage.setItem("profile",JSON.stringify(Object(s.a)({},null===a||void 0===a?void 0:a.data))),Object(s.a)(Object(s.a)({},e),{},{authData:a.data,loading:!1,errors:null});case"LOGOUT":return localStorage.clear(),Object(s.a)(Object(s.a)({},e),{},{authData:null,loading:!1,errors:null});case"CREATE_ADMIN":default:return e}},d=t(418),p=[],f=Object(o.c)({auth:m,complaints:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"COMPLAINTS_FETCH_BY_USER_ID":case"COMPLAINTS_FETCH":return a.payload;case"COMPLAINT_CREATE":return[].concat(Object(d.a)(e),[a.payload]);case"COMPLAINT_UPDATE":return e.map((function(e){return e._id===a.payload._id?a.payload:e}));default:return e}}}),g=t(579),h=t(108),b=t(34),E=t(36),v=t.n(E),y=t(78),O=t(388),C=t.n(O).a.create({baseURL:"https://pwc-complaint.herokuapp.com"});C.interceptors.request.use((function(e){return localStorage.getItem("profile")&&(e.headers.Authorization="Bearer ".concat(JSON.parse(localStorage.getItem("profile")).token)),e}));var j=function(e){return C.get("/complaints/".concat(e))},w=function(e,a){return C.patch("/complaints/update/".concat(e),a)},x=function(e){return C.post("/user/googleSignIn",e)},S=function(e){return C.post("/user/signin",e)},N=function(e){return C.post("/user/signup",e)},I=t(256),k=t.n(I),P=t(383),D=t(45),T=t(356),W=t(353),A=t(572),M=t(574),L=t(573),R=t(580),_=t(581),B=t(54),F=t(582),U=t(216),H=t(258),J=t(259),q=t(263),V=t(355),G=t(18),z=t(209),Y=t(341),Z=t(354),K=t(380),Q=t(91),X=t(575),$=Object(V.a)((function(e){return{formControl:{margin:e.spacing(1),minWidth:120,maxWidth:300},chips:{display:"flex",flexWrap:"wrap"},chip:{margin:2},noLabel:{marginTop:e.spacing(3)}}})),ee={readOnly:!0,PaperProps:{style:{maxHeight:224,width:250}}},ae=["Harassment","Bullying","Body Shaming","Violence","Death threats"],te=function(e,a,t){return{fontWeight:-1===a.indexOf(e)?t.typography.fontWeightRegular:t.typography.fontWeightMedium}},ne=function(e){var a,t=e.complaintData,l=$(),c=Object(G.a)(),i=Object(n.useState)(!1),o=Object(D.a)(i,2),u=o[0],s=o[1],m=function(){s(!1)};return r.a.createElement(g.a,null,r.a.createElement(T.a,{variant:"outlined",color:"primary",onClick:function(){s(!0)}},"View Complaint"),r.a.createElement(A.a,{open:u,onClose:m,"aria-labelledby":"form-dialog-title"},r.a.createElement(_.a,{id:"form-dialog-title"},"View Complaint"),r.a.createElement(L.a,null,r.a.createElement(R.a,null,"We are sorry you went through a hard time in PWC. Here is your detailed complaint:"),r.a.createElement(W.a,{InputProps:{readOnly:!0},autoFocus:!0,margin:"dense",id:"title",label:"Title",type:"text",fullWidth:!0,required:!0,name:"title",variant:"outlined",value:t.title}),r.a.createElement(B.a,{utils:U.a},r.a.createElement(F.a,{disabled:!0,value:t.dateOfIncidence,placeholder:"MM/dd/yyyy",format:"MM/dd/yyyy"})),r.a.createElement(W.a,{InputProps:{readOnly:!0},variant:"outlined",margin:"dense",id:"location-of-incidence",label:"Location of incidence",type:"text",fullWidth:!0,required:!0,name:"locationOfIncidence",value:t.locationOfIncidence}),r.a.createElement(W.a,{InputProps:{readOnly:!0},variant:"outlined",margin:"dense",id:"description",label:"Description",multiline:!0,rows:4,placeholder:"Describe here",fullWidth:!0,name:"description",value:t.description}),r.a.createElement("div",null,r.a.createElement(H.a,{className:l.formControl,fullWidth:!0},r.a.createElement(J.a,{id:"categories-label"},"Categories"),r.a.createElement(q.a,{labelId:"categories-label",id:"categories",multiple:!0,value:t.applicableCategories,input:r.a.createElement(z.a,{id:"select-multiple-chip"}),renderValue:function(e){return r.a.createElement("div",{className:l.chips},e.map((function(e){return r.a.createElement(P.a,{key:e,label:e,className:l.chip})})))},MenuProps:ee},ae.map((function(e){return r.a.createElement(Y.a,{key:e,value:e,style:te(e,t.applicableCategories,c)},e)}))))),r.a.createElement(Z.a,{control:r.a.createElement(K.a,{checked:t.hasReportedBefore,name:"hasReportedBefore"}),label:"Is this a recurring issue?",labelPlacement:"start",disabled:!0}),r.a.createElement(g.a,null,r.a.createElement(X.a,{container:!0,justify:"center",alignItems:"flex-start"},r.a.createElement(X.a,{item:!0},r.a.createElement(Q.a,{variant:"h3"},"Status:")),r.a.createElement(X.a,{item:!0},r.a.createElement(Q.a,{variant:"h3"},"Dismissed"===(a=t.status)?r.a.createElement(P.a,{label:"Dismissed",color:"secondary"}):"Resolved"===a?r.a.createElement(P.a,{label:"Resolved",color:"primary"}):r.a.createElement(P.a,{label:"Pending"})))))),r.a.createElement(M.a,null,r.a.createElement(T.a,{onClick:m,color:"primary"},"Close"))))},re=t(559),le=t(364),ce=t(584),ie=function(e){var a=e.complaintData,t=Object(i.c)(),l=Object(n.useState)(a.status),c=Object(D.a)(l,2),o=c[0],u=c[1],m=Object(n.useState)(!1),d=Object(D.a)(m,2),p=d[0],f=d[1];return r.a.createElement("div",null,r.a.createElement(T.a,{variant:"outlined",color:"secondary",onClick:function(){f(!0)}},"Update Status"),r.a.createElement(A.a,{open:p,onClose:function(){f(!1)},"aria-labelledby":"form-dialog-title"},r.a.createElement(_.a,{id:"form-dialog-title"},"Update Status"),r.a.createElement(L.a,null,r.a.createElement(R.a,null,"Please update the status of the complaint:"),r.a.createElement(H.a,{component:"fieldset"},r.a.createElement(re.a,{component:"legend"},"Status"),r.a.createElement(le.a,{"aria-label":"status",name:"status",value:o,onChange:function(e){u(e.target.value)}},r.a.createElement(Z.a,{value:"Pending",control:r.a.createElement(ce.a,null),label:"Pending"}),r.a.createElement(Z.a,{value:"Resolved",control:r.a.createElement(ce.a,null),label:"Resolved"}),r.a.createElement(Z.a,{value:"Dismissed",control:r.a.createElement(ce.a,null),label:"Dismissed"})))),r.a.createElement(M.a,null,r.a.createElement(T.a,{onClick:function(){var e,n;t((e=a._id,n=Object(s.a)(Object(s.a)({},a),{},{status:o}),function(){var a=Object(y.a)(v.a.mark((function a(t){var r,l;return v.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,w(e,n);case 3:r=a.sent,l=r.data,t({type:"COMPLAINT_UPDATE",payload:l}),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),console.log(a.t0);case 11:case"end":return a.stop()}}),a,null,[[0,8]])})));return function(e){return a.apply(this,arguments)}}())),f(!1)},color:"primary"},"Submit"))))},oe=[{field:"title",title:"Title"},{field:"creatorName",title:"Creator Name"},{field:"dateOfIncidence",title:"Date",render:function(e){return r.a.createElement("div",null,new Date(e.dateOfIncidence).toLocaleDateString("en-US"))}},{field:"applicableCategories",title:"Categories",render:function(e){return r.a.createElement("div",null,e.applicableCategories.map((function(e,a){return r.a.createElement(P.a,{key:a,label:e})})))}},{field:"status",title:"Status",render:function(e){return"Dismissed"===e.status?r.a.createElement(P.a,{label:"Dismissed",color:"secondary"}):"Resolved"===e.status?r.a.createElement(P.a,{label:"Resolved",color:"primary"}):r.a.createElement(P.a,{label:"Pending"})}},{field:"complaint",title:"View Complaint",render:function(e){return r.a.createElement("div",null,r.a.createElement(ne,{complaintData:e}))}}],ue=function(){var e,a,t=Object(i.d)((function(e){return e.complaints})),n=JSON.parse(localStorage.getItem("profile"));return(null===n||void 0===n||null===(e=n.result)||void 0===e||null===(a=e.role)||void 0===a?void 0:a.toLowerCase().includes("admin"))&&(oe.find((function(e){return"updateStatus"===e.field}))||oe.push({field:"updateStatus",title:"Update Status",render:function(e){return r.a.createElement("div",null,r.a.createElement(ie,{complaintData:e}))}})),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{width:"100%"}},r.a.createElement(k.a,{options:{actionsColumnIndex:-1},columns:oe,data:t,title:"My Complaints"})))},se=t(109),me=Object(V.a)((function(e){return{formControl:{margin:e.spacing(1),minWidth:120,maxWidth:300},chips:{display:"flex",flexWrap:"wrap"},chip:{margin:2},noLabel:{marginTop:e.spacing(3)}}})),de={PaperProps:{style:{maxHeight:224,width:250}}},pe=["Harassment","Bullying","Body Shaming","Violence","Death threats"],fe=function(e,a,t){return{fontWeight:-1===a.indexOf(e)?t.typography.fontWeightRegular:t.typography.fontWeightMedium}},ge=function(){var e,a=JSON.parse(localStorage.getItem("profile")),t=Object(n.useState)({title:"",locationOfIncidence:"",dateOfIncidence:new Date,hasReportedBefore:!1,applicableCategories:[],description:"",creatorName:null===a||void 0===a||null===(e=a.result)||void 0===e?void 0:e.name}),l=Object(D.a)(t,2),c=l[0],o=l[1],u=me(),m=Object(G.a)(),d=Object(i.c)(),p=Object(n.useState)(!1),f=Object(D.a)(p,2),g=f[0],h=f[1],b=function(e){var a="checkbox"===e.target.type?e.target.checked:e.target.value;o(Object(s.a)(Object(s.a)({},c),{},Object(se.a)({},e.target.name,a)))},E=function(){h(!1)};return r.a.createElement("div",null,r.a.createElement(T.a,{size:"large",variant:"contained",color:"primary",onClick:function(){h(!0)}},"Add Complaint"),r.a.createElement(A.a,{open:g,onClose:E,"aria-labelledby":"form-dialog-title"},r.a.createElement(_.a,{id:"form-dialog-title"},"Add new Complaint"),r.a.createElement(L.a,null,r.a.createElement(R.a,null,"We are sorry you went through a hard time in PWC. Feel free to submit a complaint about whatever is bothering you."),r.a.createElement(W.a,{autoFocus:!0,margin:"dense",id:"title",label:"Title",type:"text",fullWidth:!0,required:!0,name:"title",value:c.title,onChange:b}),r.a.createElement(B.a,{utils:U.a},r.a.createElement(F.a,{clearable:!0,value:c.dateOfIncidence,placeholder:"MM/dd/yyyy",onChange:function(e){return function(e){o(Object(s.a)(Object(s.a)({},c),{},{dateOfIncidence:e}))}(e)},format:"MM/dd/yyyy"})),r.a.createElement(W.a,{margin:"dense",id:"location-of-incidence",label:"Location of incidence",type:"text",fullWidth:!0,required:!0,name:"locationOfIncidence",value:c.locationOfIncidence,onChange:b}),r.a.createElement(W.a,{margin:"dense",id:"description",label:"Description",multiline:!0,rows:4,placeholder:"Describe here",variant:"outlined",fullWidth:!0,name:"description",value:c.description,onChange:b}),r.a.createElement("div",null,r.a.createElement(H.a,{className:u.formControl,fullWidth:!0},r.a.createElement(J.a,{id:"categories-label"},"Categories"),r.a.createElement(q.a,{labelId:"categories-label",id:"categories",multiple:!0,value:c.applicableCategories,onChange:function(e){o(Object(s.a)(Object(s.a)({},c),{},{applicableCategories:e.target.value}))},input:r.a.createElement(z.a,{id:"select-multiple-chip"}),renderValue:function(e){return r.a.createElement("div",{className:u.chips},e.map((function(e){return r.a.createElement(P.a,{key:e,label:e,className:u.chip})})))},MenuProps:de},pe.map((function(e){return r.a.createElement(Y.a,{key:e,value:e,style:fe(e,c.applicableCategories,m)},e)}))))),r.a.createElement(Z.a,{control:r.a.createElement(K.a,{checked:c.hasReportedBefore,onChange:b,name:"hasReportedBefore"}),label:"Is this a recurring issue?",labelPlacement:"start"})),r.a.createElement(M.a,null,r.a.createElement(T.a,{onClick:E,color:"primary"},"Cancel"),r.a.createElement(T.a,{onClick:function(){var e;d((e=c,function(){var a=Object(y.a)(v.a.mark((function a(t){var n,r;return v.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,l=e,C.post("/complaints",l);case 3:n=a.sent,r=n.data,t({type:"COMPLAINT_CREATE",payload:r}),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),console.log(a.t0);case 11:case"end":return a.stop()}var l}),a,null,[[0,8]])})));return function(e){return a.apply(this,arguments)}}())),o({title:"",locationOfIncidence:"",dateOfIncidence:new Date,hasReportedBefore:!1,applicableCategories:[],description:""}),h(!1)},color:"primary"},"Submit"))))},he=function(){var e=Object(i.c)(),a=JSON.parse(localStorage.getItem("profile"));return Object(n.useEffect)((function(){var t;e((t=a.result._id,function(){var e=Object(y.a)(v.a.mark((function e(a){var n,r;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j(t);case 3:n=e.sent,r=n.data,a({type:"COMPLAINTS_FETCH_BY_USER_ID",payload:r}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(a){return e.apply(this,arguments)}}()))}),[a.result._id,e]),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,r.a.createElement(ge,null)),r.a.createElement("div",null,r.a.createElement(ue,null)))},be=function(e,a){return function(){var t=Object(y.a)(v.a.mark((function t(n){var r,l;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,x(e);case 3:r=t.sent,l=r.data,n({type:"AUTH",data:l}),a.push("/"),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},Ee=function(){var e=Object(n.useState)({email:"",password:"",firstName:"",lastName:""}),a=Object(D.a)(e,2),t=a[0],l=a[1],c=Object(i.c)(),o=Object(n.useState)(!1),u=Object(D.a)(o,2),m=u[0],d=u[1],p=function(e){l(Object(s.a)(Object(s.a)({},t),{},Object(se.a)({},e.target.name,e.target.value)))},f=function(){d(!1)};return r.a.createElement(X.a,{container:!0,alignItems:"center"},r.a.createElement(X.a,{item:!0},r.a.createElement(T.a,{size:"large",variant:"contained",color:"primary",onClick:function(){d(!0)}},"Create Admin")),r.a.createElement(X.a,{item:!0},r.a.createElement(A.a,{open:m,onClose:f,"aria-labelledby":"form-dialog-title"},r.a.createElement(_.a,{id:"form-dialog-title"},"Create new admin"),r.a.createElement(L.a,null,r.a.createElement(R.a,null,"Here you can create an admin who have access to update user's complaints status"),r.a.createElement(W.a,{margin:"dense",autoFocus:!0,id:"firstName",label:"First Name",type:"text",required:!0,name:"firstName",variant:"outlined",value:t.firstName,onChange:p}),r.a.createElement(W.a,{margin:"dense",id:"lastName",label:"Last Name",type:"text",required:!0,name:"lastName",variant:"outlined",value:t.lastName,onChange:p}),r.a.createElement(W.a,{margin:"dense",id:"email",label:"Email",type:"email",required:!0,name:"email",variant:"outlined",fullWidth:!0,value:t.email,onChange:p}),r.a.createElement(W.a,{margin:"dense",id:"password",label:"Password",variant:"outlined",type:"password",fullWidth:!0,name:"password",value:t.password,onChange:p})),r.a.createElement(M.a,null,r.a.createElement(T.a,{onClick:f,color:"primary"},"Cancel"),r.a.createElement(T.a,{onClick:function(){var e;c((e=Object(s.a)(Object(s.a)({},t),{},{role:"admin"}),function(){var a=Object(y.a)(v.a.mark((function a(t){return v.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,N(e);case 3:t({type:"CREATE_ADMIN"}),a.next=9;break;case 6:a.prev=6,a.t0=a.catch(0),console.log(a.t0);case 9:case"end":return a.stop()}}),a,null,[[0,6]])})));return function(e){return a.apply(this,arguments)}}())),l({email:"",password:"",firstName:"",lastName:""}),d(!1)},color:"primary"},"Submit")))))},ve=function(){var e=Object(i.c)(),a=JSON.parse(localStorage.getItem("profile"));return Object(n.useEffect)((function(){e(function(){var e=Object(y.a)(v.a.mark((function e(a){var t,n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,C.get("/complaints");case 3:t=e.sent,n=t.data,a({type:"COMPLAINTS_FETCH",payload:n}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(a){return e.apply(this,arguments)}}())}),[e]),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,"superAdmin"===a.result.role&&r.a.createElement(Ee,null)),r.a.createElement("div",null,r.a.createElement(ue,null)))},ye=t(158),Oe=t(586),Ce=t(409),je=t(412),we=t.n(je),xe=function(){return r.a.createElement("svg",{style:{width:"20px",height:"20px"},viewBox:"0 0 24 24"},r.a.createElement("path",{fill:"currentColor",d:"M21.35,11.1H12.18V13.83H18.69C18.36,17.64 15.19,19.27 12.19,19.27C8.36,19.27 5,16.25 5,12C5,7.9 8.2,4.73 12.2,4.73C15.29,4.73 17.1,6.7 17.1,6.7L19,4.72C19,4.72 16.56,2 12.1,2C6.42,2 2.03,6.8 2.03,12C2.03,17.05 6.16,22 12.25,22C17.6,22 21.5,18.33 21.5,12.91C21.5,11.76 21.35,11.1 21.35,11.1V11.1Z"}))},Se=Object(V.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center",padding:e.spacing(2)},root:{"& .MuiTextField-root":{margin:e.spacing(1)}},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},googleButton:{marginBottom:e.spacing(2)}}})),Ne=t(358),Ie=t(257),ke=t(410),Pe=t.n(ke),De=t(411),Te=t.n(De),We=function(e){var a=e.name,t=e.handleChange,n=e.label,l=e.half,c=e.autoFocus,i=e.type,o=e.handleShowPassword;return r.a.createElement(X.a,{item:!0,xs:12,sm:l?6:12},r.a.createElement(W.a,{name:a,onChange:t,variant:"outlined",required:!0,fullWidth:!0,label:n,autoFocus:c,type:i,InputProps:"password"===a?{endAdornment:r.a.createElement(Ne.a,{position:"end"},r.a.createElement(Ie.a,{onClick:o},"password"===i?r.a.createElement(Pe.a,null):r.a.createElement(Te.a,null)))}:null}))},Ae={firstName:"",lastName:"",email:"",password:"",confirmPassword:""},Me=function(){var e=Object(n.useState)(Ae),a=Object(D.a)(e,2),t=a[0],l=a[1],c=Object(n.useState)(!1),o=Object(D.a)(c,2),u=o[0],m=o[1],d=Object(i.c)(),p=Object(b.g)(),f=Se(),h=Object(n.useState)(!1),E=Object(D.a)(h,2),O=E[0],C=E[1],j=function(){var e=Object(y.a)(v.a.mark((function e(a){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=null===a||void 0===a?void 0:a.profileObj,d(be(t,p));case 2:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),w=function(e){return l(Object(s.a)(Object(s.a)({},t),{},Object(se.a)({},e.target.name,e.target.value)))};return r.a.createElement(g.a,{component:"main",maxWidth:"xs"},r.a.createElement(ye.a,{className:f.paper,elevation:3},r.a.createElement(Oe.a,{className:f.avatar},r.a.createElement(we.a,null)),r.a.createElement(Q.a,{component:"h1",variant:"h5"},u?"Sign up":"Sign in"),r.a.createElement("form",{className:f.form,onSubmit:function(e){var a,n;e.preventDefault(),d(u?(a=t,n=p,function(){var e=Object(y.a)(v.a.mark((function e(t){var r,l;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N(a);case 3:r=e.sent,l=r.data,t({type:"AUTH",data:l}),n.push("/"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(a){return e.apply(this,arguments)}}()):function(e,a){return function(){var t=Object(y.a)(v.a.mark((function t(n){var r,l;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,S(e);case 3:r=t.sent,l=r.data,n({type:"AUTH",data:l}),a.push("/"),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()}(t,p))}},r.a.createElement(X.a,{container:!0,spacing:2},u&&r.a.createElement(r.a.Fragment,null,r.a.createElement(We,{name:"firstName",label:"First Name",handleChange:w,autoFocus:!0,half:!0}),r.a.createElement(We,{name:"lastName",label:"Last Name",handleChange:w,half:!0})),r.a.createElement(We,{name:"email",label:"Email Address",handleChange:w,type:"email"}),r.a.createElement(We,{name:"password",label:"Password",handleChange:w,type:O?"text":"password",handleShowPassword:function(){return C(!O)}}),u&&r.a.createElement(We,{name:"confirmPassword",label:"Repeat Password",handleChange:w,type:"password"})),r.a.createElement(T.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:f.submit},u?"Sign Up":"Sign In"),r.a.createElement(Ce.GoogleLogin,{clientId:"721714693617-4nv3k1q8jmc29e1ulpruhjbp5h61rmck.apps.googleusercontent.com",render:function(e){return r.a.createElement(T.a,{className:f.googleButton,color:"primary",fullWidth:!0,onClick:e.onClick,disabled:e.disabled,startIcon:r.a.createElement(xe,null),variant:"contained"},"Google Sign In")},onSuccess:j,onFailure:function(){return alert("Google Sign In was unsuccessful. Try again later")},cookiePolicy:"single_host_origin"}),r.a.createElement(X.a,{container:!0,justify:"flex-end"},r.a.createElement(X.a,{item:!0},r.a.createElement(T.a,{onClick:function(){l(Ae),m((function(e){return!e})),C(!1)}},u?"Already have an account? Sign in":"Don't have an account? Sign Up"))))))},Le=function(){var e,a,t=JSON.parse(localStorage.getItem("profile"));return t?(null===t||void 0===t||null===(e=t.result)||void 0===e||null===(a=e.role)||void 0===a?void 0:a.toLowerCase().includes("admin"))?r.a.createElement(ve,null):r.a.createElement(he,null):r.a.createElement(Me,null)},Re=t(578),_e=t(342),Be=t(413),Fe=t(414),Ue=t.n(Fe),He=t(362),Je=Object(V.a)((function(e){return{appBar:{borderRadius:15,margin:"30px 0",display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",padding:"10px 50px"},heading:{color:"black",textDecoration:"none"},image:{marginLeft:"15px"},toolbar:{display:"flex",justifyContent:"flex-end",width:"400px"},profile:{display:"flex",justifyContent:"space-between",width:"400px"},userName:{display:"flex",alignItems:"center"},brandContainer:{display:"flex",alignItems:"left"},purple:{color:e.palette.getContrastText(He.a[500]),backgroundColor:He.a[500]}}})),qe=function(){var e=Object(n.useState)(JSON.parse(localStorage.getItem("profile"))),a=Object(D.a)(e,2),t=a[0],l=a[1],c=Object(i.c)(),o=Object(b.h)(),u=Object(b.g)(),s=Je(),m=function(){c({type:"LOGOUT"}),u.push("/auth"),l(null)};return Object(n.useEffect)((function(){var e=null===t||void 0===t?void 0:t.token;e&&(1e3*Object(Be.a)(e).exp<(new Date).getTime()&&m());l(JSON.parse(localStorage.getItem("profile")))}),[o]),r.a.createElement(Re.a,{className:s.appBar,position:"static",color:"inherit"},r.a.createElement("div",{className:s.brandContainer},r.a.createElement("img",{className:s.image,src:Ue.a,alt:"icon",height:"60"})),r.a.createElement(_e.a,{className:s.toolbar},(null===t||void 0===t?void 0:t.result)?r.a.createElement("div",{className:s.profile},r.a.createElement(Oe.a,{className:s.purple,alt:null===t||void 0===t?void 0:t.result.name,src:null===t||void 0===t?void 0:t.result.imageUrl},null===t||void 0===t?void 0:t.result.name.charAt(0)),r.a.createElement(Q.a,{className:s.userName,variant:"h6"},null===t||void 0===t?void 0:t.result.name),r.a.createElement(T.a,{variant:"contained",className:s.logout,color:"secondary",onClick:m},"Logout")):r.a.createElement(T.a,{component:h.b,to:"/auth",variant:"contained",color:"primary"},"Sign In")))},Ve=t(415),Ge=t(416),ze=t(419),Ye=t(417),Ze=function(e){Object(ze.a)(t,e);var a=Object(Ye.a)(t);function t(){return Object(Ve.a)(this,t),a.apply(this,arguments)}return Object(Ge.a)(t,[{key:"render",value:function(){var e=this.props.component,a=JSON.parse(localStorage.getItem("profile"));return(null===a||void 0===a?void 0:a.token)?r.a.createElement(e,null):r.a.createElement(b.a,{to:{pathname:"/auth"}})}}]),t}(r.a.Component),Ke=function(){return r.a.createElement(ye.a,{elevation:3},r.a.createElement(Q.a,{variant:"h1",align:"center"},"404"),r.a.createElement(Q.a,{variant:"h3",align:"center"},"page not found"),r.a.createElement(Q.a,{variant:"h3",align:"center"},r.a.createElement(h.b,{to:"/"},"Go Home")))},Qe=function(){return r.a.createElement(h.a,null,r.a.createElement(g.a,{maxWidth:"lg"},r.a.createElement(qe,null),r.a.createElement(b.d,null,r.a.createElement(Ze,{path:"/",exact:!0,component:Le}),r.a.createElement(b.b,{path:"/auth",exact:!0,component:Me}),r.a.createElement(b.b,{component:Ke}))))},Xe=(t(546),Object(o.e)(f,Object(o.d)(Object(o.a)(u.a))));c.a.render(r.a.createElement(i.a,{store:Xe},r.a.createElement(Qe,null)),document.getElementById("root"))}},[[434,1,2]]]);
//# sourceMappingURL=main.731e31e5.chunk.js.map